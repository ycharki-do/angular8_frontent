<div class="container panel panel-info"  style="margin-top: 30px" *ngIf="code">
  <div class="row">
    <div class="col-md-12">
      <div class="wrapper wrapper-content animated fadeInUp">
        <div class="ibox">
          <div class="ibox-content">
            <div class="row">
              <div class="col-lg-12">
                <div class="m-b-md">
                  <a (click)="openEditDialog(code)" class="btn btn-white btn-xs pull-right"><mat-icon title="modifier">edit</mat-icon></a>
                  <h2><a [routerLink]="['/codes']"><mat-icon>keyboard_backspace</mat-icon></a>
                    Code </h2>
                </div>
                <dl class="dl-horizontal">
                  <dt>Status:</dt> <dd>
                  <div *ngIf="code.statut===0" class="label label-primary" style="background-color: limegreen">Free</div>
                  <div *ngIf="code.statut===1" class="label label-primary" style="background-color: gold">Temp</div>
                  <div *ngIf="code.statut===2" class="label label-primary" style="background-color: darkorange">Busy</div>
                  <div *ngIf="code.statut===3" class="label label-primary" style="background-color: royalblue">Reserved</div>
                </dd>
                </dl>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-5">
                <dl class="dl-horizontal">
                  <dt>No.:</dt> <dd>{{code.id}}</dd>
                  <dt>Nom:</dt> <dd>{{code.numero}}</dd>
                </dl>
              </div>
              <div class="col-lg-7" id="cluster_info">
                <dl class="dl-horizontal">
                  <dt>Date:</dt> <dd> 	{{code.date_attr | date}} </dd>
                </dl>
              </div>
            </div>

            <mat-tab-group title="ref">

              <mat-tab label="Current References">
                <a (click)="openAffectDialog()" class="btn btn-white btn-xs pull-right"><mat-icon title="affecter un code">add_box</mat-icon></a>
                <table class="table table-striped">
                  <thead>
                  <tr>
                    <th>Status</th>
                    <th>No.</th>
                    <th>Nom</th>
                    <th>Zone</th>
                    <th>Date d'Ajout</th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr *ngFor="let element of refCodes">
                    <td>
                      <span class="label label-primary">{{element.reference.statut}}</span>
                    </td>
                    <td>
                      {{element.reference.id}}
                    </td>
                    <td>
                      {{element.reference.nom}}
                    </td>
                    <td>
                      {{element.reference.zone}}
                    </td>
                    <td>
                      {{element.reference.date_ajout}}
                    </td>
                  </tr>
                  </tbody>
                </table>
              </mat-tab>

              <mat-tab label="Archived References">

                <table class="table table-striped">
                  <thead>
                  <tr>
                    <th>Status</th>
                    <th>Nom</th>
                    <th>Date de debut</th>
                    <th>Date de fin</th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr *ngFor="let element of histCodes">
                    <td>
                      <dd><span class="label label-primary">Completed</span></dd>
                    </td>
                    <td>
                      {{element.reference.nom}}
                    </td>
                    <td>
                      {{element.date_debut | date}}
                    </td>
                    <td>
                      {{element.date_fin | date}}
                    </td>
                  </tr>
                  </tbody>
                </table>
              </mat-tab>

            </mat-tab-group>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>






